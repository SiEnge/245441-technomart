var link=document.querySelector(".contacts-btn"),popup=document.querySelector(".modal-write-us");if(link&&popup){var close=popup.querySelector(".modal-content-close"),form=popup.querySelector(".form-write-us"),names=popup.querySelector("[id=write-us-name]"),email=popup.querySelector("[id=write-us-email]"),storage=localStorage.getItem("name");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-show"),storage?(names.value=storage,email.focus()):names.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-show"),popup.classList.remove("modal-error")}),form.addEventListener("submit",function(e){e.preventDefault(),names.value&&email.value?localStorage.setItem("name",names.value):(e.preventDefault(),popup.classList.remove("modal-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-show")&&(popup.classList.remove("modal-show"),popup.classList.remove("modal-error"))})}var map_open=document.querySelector(".contacts-map"),map_over=document.querySelector(".modal-overlay"),map_popup=document.querySelector(".modal-map");if(map_open&&map_over&&map_popup){var map_close=map_popup.querySelector(".modal-content-close");map_open.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.add("modal-show"),map_over.classList.add("modal-show")}),map_close.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.remove("modal-show"),map_over.classList.remove("modal-show")}),map_over.addEventListener("click",function(e){e.preventDefault(),map_popup.classList.remove("modal-show"),map_over.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&map_popup.classList.contains("modal-show")&&(map_popup.classList.remove("modal-show"),map_over.classList.remove("modal-show"))})}var tocart=document.querySelectorAll(".btn-tocart"),cart_add=document.querySelector(".modal-product-add");if(tocart&&cart_add){var cart_close=cart_add.querySelector(".modal-content-close"),cart_conti=cart_add.querySelector(".btn-continue");Array.prototype.forEach.call(tocart,function(e){e.addEventListener("click",function(e){e.preventDefault(),cart_add.classList.add("modal-show")})}),cart_close.addEventListener("click",function(e){e.preventDefault(),cart_add.classList.remove("modal-show")}),cart_conti.addEventListener("click",function(e){e.preventDefault(),cart_add.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&cart_add.classList.contains("modal-show")&&cart_add.classList.remove("modal-show")})}
